@if (ViewBag.Employee != null)
{
    <h1>Modification</h1>

    <br />

    <form asp-controller="Admin" asp-action="SubmitEditFormEmployee" method="post">
        <div>
            <input class="form-control" type="text" name="id" hidden placeholder="id" value="@ViewBag.Employee.Id" />
        </div>
        <div class="row">
            <div class="col-6">
                <input class="form-control" type="text" name="lastName" placeholder="Nom" value="@ViewBag.Employee.Lastname" required/>
            </div>
            <div class="col-6">
                <input class="form-control" type="text" name="firstname" placeholder="Prénom" value="@ViewBag.Employee.Firstname" required/>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-6">
                <input class="form-control" type="tel" name="phone" placeholder="Téléphone fixe" value="@ViewBag.Employee.Phone" pattern="^\+?\s*(\d+\s?){8,}$" required/>
            </div>
            <div class="col-6">
                <input class="form-control" type="tel" name="cellphone" placeholder="Téléphone portable" value="@ViewBag.Employee.Cellphone" pattern="^\+?\s*(\d+\s?){8,}$" required/>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-12">
                <input class="form-control" type="email" name="mail" placeholder="Addresse mail" value="@ViewBag.Employee.Mail" required/>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-6">
                <select class="form-control" name="idSite" aria-label="Site">
                    @foreach (Site s in ViewBag.Site)
                    {
                        if (ViewBag.Employee.Site.IdSite == s.IdSite)
                        {
                            <option selected value="@s.IdSite">@s.Name</option>

                        }
                        else
                        {
                            <option value="@s.IdSite">@s.Name</option>
                        }
                    }
                </select>
            </div>
            <div class="col-6">
                <select class="form-control" name="idService" aria-label="Service">
                    @foreach (Service s in ViewBag.Service)
                    {
                        if (ViewBag.Employee.Service.IdService == s.IdService)
                        {
                            <option selected value="@s.IdService">@s.Name</option>

                        }
                        else
                        {
                            <option value="@s.IdService">@s.Name</option>
                        }
                    }
                </select>
            </div>
        </div>
        <br />
        <div class="row justify-content-center">
            <div class="col-6">
                <button type="submit" class="btn btn-primary btn-block">Enregistrer</button>
            </div>
        </div>
    </form>
}
else
{
    <h1>Ajout</h1>

    <form asp-controller="Admin" asp-action="SubmitAddFormEmployee" method="post">
        <div class="row">
            <div class="col-6">
                <input class="form-control" type="text" name="lastName" placeholder="Nom" required />
            </div>
            <div class="col-6">
                <input class="form-control" type="text" name="firstname" placeholder="Prénom" required />
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-6">
                <input class="form-control" type="tel" name="phone" placeholder="Téléphone fixe" pattern="^\+?\s*(\d+\s?){8,}$" required />
            </div>
            <div class="col-6">
                <input class="form-control" type="tel" name="cellphone" placeholder="Téléphone portable" pattern="^\+?\s*(\d+\s?){8,}$" required />
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-12">
                <input class="form-control" type="email" name="mail" placeholder="Addresse mail" required />
            </div>
        </div>
        <br />
        @if (ViewBag.Message != null)
        {
            <div class="row m-1 justify-content-center">
                <div class="alert alert-danger col-6 p-1">
                    @ViewBag.Message
                </div>
            </div>
        }
        <div class="row">
            <div class="col-6">
                <select class="form-control" name="idSite" aria-label="Site">
                    <option selected>Tous les sites</option>
                    @foreach (Site s in ViewBag.Site)
                    {
                        <option value="@s.IdSite">@s.Name</option>
                    }
                </select>
            </div>
            <div class="col-6">
                <select class="form-control" name="idService" aria-label="Service">
                    <option selected>Tous les services</option>
                    @foreach (Service s in ViewBag.Service)
                    {
                        <option value="@s.IdService">@s.Name</option>
                    }
                </select>
            </div>
        </div>
        <br />
        <div class="row justify-content-center">
            <div class="col-6">
                <button type="submit" class="btn btn-primary btn-block">Enregistrer</button>
            </div>
        </div>
    </form>
}

